---
title: 'useArrayFlatMap'
description: Apply a function to each element of an array and flatten the result
---

<Demo name="useArrayFlatMap" category="Array" />

## Installation

```bash
npx changeelog/reactuse@latest add useArrayFlatMap
```

## Usage

```ts
const numbers = [1, 2, 3, 4];
const flatMappedArray = useArrayFlatMap(numbers, (x) => [x, x * 2]);
// Result: [1, 2, 2, 4, 3, 6, 4, 8]
```

## Reference

`useArrayFlatMap` is a hook that applies a function to each element of an array and then flattens the result by one level.

### Parameters

The hook accepts two parameters:

<TypeTable
  type={{
    array: {
      description:
        'An array or a function that returns an array to be processed.',
      type: 'ArrayOrGetter',
    },
    callback: {
      description: 'A function to apply to each element of the array.',
      type: 'FlatMapCallback<T, U>',
    },
  }}
/>

Where ArrayOrGetter&lt;T&gt; and FlatMapCallback&lt;T, U&gt; are defined as:

```ts
type ArrayOrGetter<T> = T[] | (() => T[]);
type FlatMapCallback<T, U> = (
  value: T,
  index: number,
  array: T[],
) => U | readonly U[];
```

### Return Value

The hook returns a new array with the results of applying the callback function to each element and then flattening the result by one level:

<TypeTable
  type={{
    flatMappedArray: {
      description: 'The resulting flattened array after applying the callback.',
      type: 'U[]',
    },
  }}
/>

## Notes

- If the `array` parameter is a function, it will be called to get the actual array.
- The `flatMap` operation is equivalent to a `map` followed by a `flat` of depth 1.`

import { Demo } from '@/components/Common/Preview/preview';
import { TypeTable } from 'fumadocs-ui/components/type-table';
